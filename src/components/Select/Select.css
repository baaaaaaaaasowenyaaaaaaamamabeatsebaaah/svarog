/* src/components/Select/Select.css */
/**
 * Select component styles - Custom UI with hidden native select
 */

.select-container {
  display: flex;
  flex-direction: column;
  margin-bottom: var(--select-margin-bottom);
  position: relative;
  width: 100%;
}

/* Hide native select but keep it accessible for screen readers and form submission */
.select-native {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Custom select styling */
.select-custom {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: var(--select-padding);
  font-size: var(--select-font-size);
  font-family: var(--select-font-family);
  color: var(--select-color);
  background-color: var(--select-bg,);
  border: var(--select-border);
  border-radius: var(--select-radius);
  box-shadow: var(--select-shadow);
  transition: var(--select-transition);
  line-height: var(--select-line-height);
  cursor: pointer;
  outline: none;
  position: relative;
  box-sizing: border-box;
  z-index: 1; /* Establish stacking context */
}

.select-custom:hover {
  border-color: var(--select-hover-border-color);
}

.select-custom__selected {
  flex: 1;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  pointer-events: none; /* Pass clicks through to parent */
}

.select-custom__selected--placeholder {
  color: var(--select-placeholder-color);
  font-style: normal;
}

.select-custom__arrow {
  position: absolute;
  top: 50%;
  right: var(--select-arrow-right);
  width: var(--select-arrow-size);
  height: var(--select-arrow-size);
  margin-left: var(--select-arrow-margin);
  border-right: var(--select-arrow-border);
  border-bottom: var(--select-arrow-border);
  transform: translateY(-75%) rotate(45deg);
  transform-origin: center;
  transition: var(--select-arrow-transition);
  pointer-events: none; /* Pass clicks through to parent */
}

.select-custom--open .select-custom__arrow {
  transform: translateY(-25%) rotate(-135deg);
}

/* Dropdown */
.select-custom__dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  max-height: 0;
  overflow: hidden;
  background-color: var(--select-dropdown-bg);
  border: 0 solid var(--select-dropdown-border-color);
  border-top: none;
  border-radius: var(--select-dropdown-radius);
  z-index: 100; /* Ensure dropdown is above other elements */
  transition: var(--select-dropdown-transition);
  margin-top: -1px;
  box-shadow: var(--select-dropdown-shadow);
  visibility: hidden;
}

.select-custom__dropdown--open {
  max-height: var(--select-dropdown-max-height);
  overflow-y: auto;
  border-width: 1px;
  visibility: visible;
}

/* Options */
.select-custom__option {
  padding: var(--select-option-padding);
  cursor: pointer;
  transition: var(--select-option-transition);
  display: flex;
  align-items: center;
  user-select: none; /* Prevent text selection */
}

.select-custom__option:hover,
.select-custom__option:focus {
  background-color: var(--select-option-hover-bg);
  outline: none;
}

.select-custom__option--selected,
.select-custom__option--selected:hover,
.select-custom__option--selected:focus {
  background-color: var(--select-option-selected-bg);
  color: var(--select-option-selected-color);
}

.select-custom__option--disabled {
  color: var(--select-option-disabled-color);
  cursor: not-allowed;
  background-color: var(--select-option-disabled-bg);
}

/* Group headers */
.select-custom__group-header {
  padding: var(--select-group-header-padding);
  font-weight: var(--select-group-header-font-weight);
  color: var(--select-group-header-color);
  background-color: var(--select-group-header-bg);
  font-size: var(--select-group-header-font-size);
  border-bottom: var(--select-group-header-border-bottom);
  border-top: var(--select-group-header-border-top);
  margin-top: -1px;
  pointer-events: none; /* Cannot be clicked */
  user-select: none; /* Prevent text selection */
}

/* Multiple selection checkboxes */
.select-custom__checkbox {
  display: inline-block;
  width: var(--select-checkbox-size);
  height: var(--select-checkbox-size);
  border: var(--select-checkbox-border, 1px solid var(--color-gray-400));
  border-radius: var(--select-checkbox-radius);
  margin-right: var(--select-checkbox-margin);
  position: relative;
  pointer-events: none; /* Pass clicks through to parent */
}

.select-custom__checkbox--checked::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 6px;
  width: 4px;
  height: 8px;
  border-right: var(--select-checkbox-check-border);
  border-bottom: var(--select-checkbox-check-border);
  transform: rotate(45deg);
}

/* States */
.select-custom--focused,
.select-custom:focus {
  border-color: var(--select-focus-border-color);
  box-shadow: var(--select-focus-shadow);
}

.select-custom--disabled {
  background-color: var(--select-disabled-bg);
  opacity: var(--select-disabled-opacity);
  cursor: not-allowed;
}

.select-custom--valid {
  border-color: var(--select-valid-border-color);
}

.select-custom--invalid {
  border-color: var(--select-invalid-border-color);
}

/* Validation message */
.select-validation-message {
  font-size: var(--select-validation-font-size);
  margin-top: var(--select-validation-margin-top);
  color: var(--select-validation-color);
  min-height: var(--select-validation-min-height);
}

.select-container--valid .select-validation-message {
  color: var(--select-valid-color);
}

/* Responsive adjustments */
@media (max-width: 480px) {
  .select-custom {
    font-size: var(--select-mobile-font-size);
    padding: var(--select-mobile-padding);
  }

  .select-custom__dropdown {
    max-height: var(--select-dropdown-mobile-max-height);
  }
}
